# Copyright (c) 2017, the Dart project authors.  Please see the AUTHORS file
# for details. All rights reserved. Use of this source code is governed by a
# BSD-style license that can be found in the LICENSE file.

# The VM and dart2js do not implement the Dart 2.0 static type errors yet.
# Analyzer does, but only when "--strong" is used.
[ $runtime == vm || $compiler == dart2js || $runtime == dart_precompiled || ($compiler == dart2analyzer && ! $strong) ]
abstract_beats_arguments_test: MissingCompileTimeError
abstract_exact_selector_test/01: MissingCompileTimeError
abstract_factory_constructor_test/00: MissingCompileTimeError
abstract_getter_test/01: MissingCompileTimeError
abstract_syntax_test/00: MissingCompileTimeError
async_or_generator_return_type_stacktrace_test/01: MissingCompileTimeError
async_or_generator_return_type_stacktrace_test/02: MissingCompileTimeError
async_or_generator_return_type_stacktrace_test/03: MissingCompileTimeError
async_return_types_test/wrongTypeParameter: MissingCompileTimeError
async_return_types_test/tooManyTypeParameters: MissingCompileTimeError
async_return_types_test/wrongReturnType: MissingCompileTimeError
async_return_types_test/nestedFuture: MissingCompileTimeError

[ $compiler == dartdevc ]
async_return_types_test/nestedFuture: MissingCompileTimeError

[ $compiler == dart2js && ! $dart2js_with_kernel ]
accessor_conflict_export2_test: Crash # Issue 25626
accessor_conflict_export_test: Crash # Issue 25626

[ $compiler == dart2js && $runtime != none && ! $dart2js_with_kernel ]
accessor_conflict_import2_test: RuntimeError # Issue 25626
accessor_conflict_import_prefixed2_test: RuntimeError # Issue 25626
accessor_conflict_import_prefixed_test: RuntimeError # Issue 25626
accessor_conflict_import_test: RuntimeError # Issue 25626

[ $strong && ($compiler == dartdevc || $compiler == dart2analyzer) ]
accessor_conflict_export2_test: CompileTimeError # Issue 25626
accessor_conflict_export_test: CompileTimeError # Issue 25626
accessor_conflict_import2_test: CompileTimeError # Issue 25626
accessor_conflict_import_prefixed2_test: CompileTimeError # Issue 25626
accessor_conflict_import_prefixed_test: CompileTimeError # Issue 25626
accessor_conflict_import_test: CompileTimeError # Issue 25626

[ ! $strong && $compiler == dart2analyzer ]
accessor_conflict_export2_test: StaticWarning # Issue 25626
accessor_conflict_export_test: StaticWarning # Issue 25626
accessor_conflict_import2_test: StaticWarning # Issue 25626
accessor_conflict_import_prefixed2_test: StaticWarning # Issue 25626
accessor_conflict_import_prefixed_test: StaticWarning # Issue 25626
accessor_conflict_import_test: StaticWarning # Issue 25626

[ $compiler == dart2analyzer && ! $strong ]
generic_methods_generic_function_result_test/01: MissingCompileTimeError # Issue #30207

[ $compiler == dart2analyzer && $strong ]
generic_methods_generic_function_result_test/none: CompileTimeError # Issue #30207

[ $compiler == dart2js || $compiler == dartk || $compiler == dartdevc ]
generic_methods_generic_function_result_test/none: CompileTimeError # Issue #30208

[ $compiler == dart2js && $dart2js_with_kernel ]
aborting_switch_case_test: Crash
abstract_exact_selector_test/none: Crash
abstract_getter_test/01: Crash
abstract_method_test: Crash
abstract_object_method_test: Crash
arg_param_trailing_comma_test/none: Crash
arithmetic_test: Crash

[ $compiler == dart2js && $dart2js_with_kernel && $host_checked ]
abstract_exact_selector_test/01: Crash

[ $compiler == dart2js && $dart2js_with_kernel && $minified ]
abstract_beats_arguments_test: Crash
abstract_exact_selector_test/01: Crash
abstract_getter2_test: Crash
abstract_syntax_test/00: Crash
abstract_syntax_test/none: Crash
accessor_conflict_export2_test: Crash
accessor_conflict_export_test: Crash
accessor_conflict_import2_test: Crash
accessor_conflict_import_prefixed2_test: Crash
accessor_conflict_import_prefixed_test: Crash
accessor_conflict_import_test: Crash
ackermann_test: Crash
adjacent_const_string_literals_test: Crash
adjacent_string_literals_test: Crash
allocate_large_object_test: Crash
allocate_test: Crash
allocation_sinking_inlining_test: Crash
and_operation_on_non_integer_operand_test: Crash
arithmetic_canonicalization_test: Crash
arithmetic_smi_overflow_test: Crash

[ $compiler == dartdevc && $runtime != none ]
async_star_cancel_while_paused_test: RuntimeError # Issue 29920
async_star_pause_test: RuntimeError

[ $compiler == dart2js && $dart2js_with_kernel && $use_sdk ]
*: Skip # Issue 29626

[ $compiler == dart2js && ! $dart2js_with_kernel && $runtime != none ]
async_star_cancel_while_paused_test: RuntimeError # Issue 22853

[ $compiler == dart2js && $runtime == jsshell && ! $dart2js_with_kernel ]
async_star_no_cancel_test: RuntimeError # Need triage
async_star_no_cancel2_test: RuntimeError # Need triage

[ $compiler == dart2js && $checked && ! $dart2js_with_kernel ]
async_return_types_test/nestedFuture: Fail # Issue 26429
async_return_types_test/wrongTypeParameter: Fail # Issue 26429

[ $compiler == dart2js && $dart2js_with_kernel_in_ssa ]
async_star_pause_test: RuntimeError # Issue 27394
async_star_regression_fisk_test: RuntimeError # Issue 27394
async_star_stream_take_test: RuntimeError # Issue 27394
async_star_take_reyield_test: RuntimeError # Issue 27394

[ $compiler == dart2js && $runtime == d8 && $dart2js_with_kernel ]
async_break_in_finally_test: Crash
async_continue_label_test/await_in_body: Crash
async_continue_label_test/await_in_condition: Crash
async_continue_label_test/await_in_init: Crash
async_continue_label_test/await_in_update: Crash
async_continue_label_test/none: Crash
async_control_structures_test: Crash
async_finally_rethrow_test: Crash
async_or_generator_return_type_stacktrace_test/01: Crash
async_or_generator_return_type_stacktrace_test/02: Crash
async_or_generator_return_type_stacktrace_test/03: Crash
async_or_generator_return_type_stacktrace_test/none: Crash
async_regression_23058_test: Crash
async_rethrow_test: Crash
async_return_types_test/nestedFuture: Crash
async_return_types_test/none: Crash
async_return_types_test/tooManyTypeParameters: Crash
async_return_types_test/wrongReturnType: Crash
async_return_types_test/wrongTypeParameter: Crash
async_star_cancel_and_throw_in_finally_test: Crash
async_star_cancel_while_paused_test: Crash
async_star_no_cancel2_test: Crash
async_star_no_cancel_test: Crash
async_star_pause_test: Crash
async_star_regression_2238_test: Crash
async_star_regression_23116_test: Crash
async_star_regression_fisk_test: Crash
async_star_stream_take_test: Crash
async_star_take_reyield_test: Crash

[ $checked && ($compiler == dartk || $compiler == dartkp) ]
async_return_types_test/nestedFuture: Fail
async_return_types_test/wrongTypeParameter: Fail

# These test entries will be valid for vm (with and without kernel).
[ $compiler == none || $compiler == app_jit || $compiler == dartk || $runtime == dart_precompiled ]
async_star_cancel_while_paused_test: RuntimeError
# This is OK for now, but we may want to change the semantics to match the test.
async_star_pause_test: Fail, OK

[ $compiler == dartk && $runtime == vm ]
async_star_cancel_and_throw_in_finally_test: RuntimeError
async_star_cancel_while_paused_test: RuntimeError
async_star_regression_fisk_test: Timeout
async_star_stream_take_test: Timeout
async_star_take_reyield_test: Timeout

[ $compiler == none || $compiler == precompiler || $compiler == app_jit ]
async_star_regression_2238_test: CompileTimeError, RuntimeError

[ $runtime == flutter ]

# flutter uses --error_on_bad_type, --error_on_bad_override
# and --await_is_keyword so # the following tests fail with
# a Compilation Error
async_return_types_test/tooManyTypeParameters: CompileTimeError

# Look like bugs.
async_return_types_test/nestedFuture: Skip # Flutter Issue 9110
async_return_types_test/return_value_sync_star: Skip # Flutter Issue 9110
async_return_types_test/wrongReturnType: Skip # Flutter Issue 9110
async_return_types_test/wrongTypeParameter: Skip # Flutter Issue 9110
async_star_cancel_while_paused_test: Skip # Flutter Issue 9110
async_star_no_cancel_test: Skip # Flutter Issue 9110
